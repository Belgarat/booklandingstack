/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/send-ebook/route";
exports.ids = ["app/api/send-ebook/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "prettier/plugins/html":
/*!****************************************!*\
  !*** external "prettier/plugins/html" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = import("prettier/plugins/html");;

/***/ }),

/***/ "prettier/standalone":
/*!**************************************!*\
  !*** external "prettier/standalone" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = import("prettier/standalone");;

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsend-ebook%2Froute&page=%2Fapi%2Fsend-ebook%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsend-ebook%2Froute.ts&appDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsend-ebook%2Froute&page=%2Fapi%2Fsend-ebook%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsend-ebook%2Froute.ts&appDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_marcobrunet_src_me_mbm_landingfree_app_api_send_ebook_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/send-ebook/route.ts */ \"(rsc)/./app/api/send-ebook/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/send-ebook/route\",\n        pathname: \"/api/send-ebook\",\n        filename: \"route\",\n        bundlePath: \"app/api/send-ebook/route\"\n    },\n    resolvedPagePath: \"/Users/marcobrunet/src/me/mbm/landingfree/app/api/send-ebook/route.ts\",\n    nextConfigOutput,\n    userland: _Users_marcobrunet_src_me_mbm_landingfree_app_api_send_ebook_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZzZW5kLWVib29rJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzZW5kLWVib29rJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2VuZC1lYm9vayUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hcmNvYnJ1bmV0JTJGc3JjJTJGbWUlMkZtYm0lMkZsYW5kaW5nZnJlZSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYXJjb2JydW5ldCUyRnNyYyUyRm1lJTJGbWJtJTJGbGFuZGluZ2ZyZWUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3FCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xhbmRpbmdmcmVlLz9hMTUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbWFyY29icnVuZXQvc3JjL21lL21ibS9sYW5kaW5nZnJlZS9hcHAvYXBpL3NlbmQtZWJvb2svcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlbmQtZWJvb2svcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZW5kLWVib29rXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zZW5kLWVib29rL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL21hcmNvYnJ1bmV0L3NyYy9tZS9tYm0vbGFuZGluZ2ZyZWUvYXBwL2FwaS9zZW5kLWVib29rL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsend-ebook%2Froute&page=%2Fapi%2Fsend-ebook%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsend-ebook%2Froute.ts&appDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/send-ebook/route.ts":
/*!*************************************!*\
  !*** ./app/api/send-ebook/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_resend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/resend */ \"(rsc)/./lib/resend.ts\");\n/* harmony import */ var _lib_download_tokens__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/download-tokens */ \"(rsc)/./lib/download-tokens.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { email, name } = body;\n        // Validate required fields\n        if (!email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Email is required'\n            }, {\n                status: 400\n            });\n        }\n        // Verify email format and check for disposable emails\n        try {\n            await (0,_lib_resend__WEBPACK_IMPORTED_MODULE_1__.verifyEmail)(email);\n        } catch (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error instanceof Error ? error.message : 'Invalid email'\n            }, {\n                status: 400\n            });\n        }\n        // Generate download token\n        const downloadToken = (0,_lib_download_tokens__WEBPACK_IMPORTED_MODULE_2__.generateDownloadToken)(email);\n        const downloadUrl = (0,_lib_download_tokens__WEBPACK_IMPORTED_MODULE_2__.createDownloadUrl)(downloadToken.token);\n        // Store token in database\n        const { error: tokenError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabaseAdmin.from('download_tokens').insert([\n            {\n                email: downloadToken.email,\n                token: downloadToken.token,\n                expires_at: downloadToken.expiresAt.toISOString(),\n                used: false,\n                created_at: downloadToken.createdAt.toISOString()\n            }\n        ]);\n        if (tokenError) {\n            console.error('Token storage error:', tokenError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to generate download link'\n            }, {\n                status: 500\n            });\n        }\n        // Track the email submission in analytics\n        await _lib_supabase__WEBPACK_IMPORTED_MODULE_3__.supabaseAdmin.from('analytics').insert([\n            {\n                email,\n                action: 'email_verified_and_token_generated',\n                timestamp: new Date().toISOString(),\n                user_agent: request.headers.get('user-agent') || 'unknown',\n                referrer: request.headers.get('referer') || 'unknown',\n                ip_address: request.headers.get('x-forwarded-for') || request.headers.get('x-real-ip') || 'unknown',\n                created_at: new Date().toISOString()\n            }\n        ]);\n        // Send the ebook email via Resend with secure download link\n        const result = await (0,_lib_resend__WEBPACK_IMPORTED_MODULE_1__.sendEbookEmail)({\n            email,\n            name,\n            downloadUrl\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: 'Download link sent successfully',\n            messageId: result.messageId\n        });\n    } catch (error) {\n        console.error('Send ebook error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to send download link. Please try again.'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NlbmQtZWJvb2svcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUQ7QUFDRztBQUNzQjtBQUNsQztBQUV2QyxlQUFlTSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUUsR0FBR0g7UUFFeEIsMkJBQTJCO1FBQzNCLElBQUksQ0FBQ0UsT0FBTztZQUNWLE9BQU9WLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFRyxPQUFPO1lBQW9CLEdBQzdCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxzREFBc0Q7UUFDdEQsSUFBSTtZQUNGLE1BQU1YLHdEQUFXQSxDQUFDUTtRQUNwQixFQUFFLE9BQU9FLE9BQU87WUFDZCxPQUFPWixxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUcsT0FBT0EsaUJBQWlCRSxRQUFRRixNQUFNRyxPQUFPLEdBQUc7WUFBZ0IsR0FDbEU7Z0JBQUVGLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDBCQUEwQjtRQUMxQixNQUFNRyxnQkFBZ0JiLDJFQUFxQkEsQ0FBQ087UUFDNUMsTUFBTU8sY0FBY2IsdUVBQWlCQSxDQUFDWSxjQUFjRSxLQUFLO1FBRXpELDBCQUEwQjtRQUMxQixNQUFNLEVBQUVOLE9BQU9PLFVBQVUsRUFBRSxHQUFHLE1BQU1kLHdEQUFhQSxDQUM5Q2UsSUFBSSxDQUFDLG1CQUNMQyxNQUFNLENBQUM7WUFDTjtnQkFDRVgsT0FBT00sY0FBY04sS0FBSztnQkFDMUJRLE9BQU9GLGNBQWNFLEtBQUs7Z0JBQzFCSSxZQUFZTixjQUFjTyxTQUFTLENBQUNDLFdBQVc7Z0JBQy9DQyxNQUFNO2dCQUNOQyxZQUFZVixjQUFjVyxTQUFTLENBQUNILFdBQVc7WUFDakQ7U0FDRDtRQUVILElBQUlMLFlBQVk7WUFDZFMsUUFBUWhCLEtBQUssQ0FBQyx3QkFBd0JPO1lBQ3RDLE9BQU9uQixxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUcsT0FBTztZQUFtQyxHQUM1QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsMENBQTBDO1FBQzFDLE1BQU1SLHdEQUFhQSxDQUNoQmUsSUFBSSxDQUFDLGFBQ0xDLE1BQU0sQ0FBQztZQUNOO2dCQUNFWDtnQkFDQW1CLFFBQVE7Z0JBQ1JDLFdBQVcsSUFBSUMsT0FBT1AsV0FBVztnQkFDakNRLFlBQVl6QixRQUFRMEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsaUJBQWlCO2dCQUNqREMsVUFBVTVCLFFBQVEwQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjO2dCQUM1Q0UsWUFBWTdCLFFBQVEwQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFDckIzQixRQUFRMEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQ3BCO2dCQUNYUixZQUFZLElBQUlLLE9BQU9QLFdBQVc7WUFDcEM7U0FDRDtRQUVILDREQUE0RDtRQUM1RCxNQUFNYSxTQUFTLE1BQU1wQywyREFBY0EsQ0FBQztZQUNsQ1M7WUFDQUM7WUFDQU07UUFDRjtRQUVBLE9BQU9qQixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQ3ZCNkIsU0FBUztZQUNUdkIsU0FBUztZQUNUd0IsV0FBV0YsT0FBT0UsU0FBUztRQUM3QjtJQUVGLEVBQUUsT0FBTzNCLE9BQU87UUFDZGdCLFFBQVFoQixLQUFLLENBQUMscUJBQXFCQTtRQUNuQyxPQUFPWixxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtZQUFFRyxPQUFPO1FBQWtELEdBQzNEO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZ2ZyZWUvLi9hcHAvYXBpL3NlbmQtZWJvb2svcm91dGUudHM/MzQ2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBzZW5kRWJvb2tFbWFpbCwgdmVyaWZ5RW1haWwgfSBmcm9tICdAL2xpYi9yZXNlbmQnXG5pbXBvcnQgeyBnZW5lcmF0ZURvd25sb2FkVG9rZW4sIGNyZWF0ZURvd25sb2FkVXJsIH0gZnJvbSAnQC9saWIvZG93bmxvYWQtdG9rZW5zJ1xuaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHsgZW1haWwsIG5hbWUgfSA9IGJvZHlcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0VtYWlsIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBWZXJpZnkgZW1haWwgZm9ybWF0IGFuZCBjaGVjayBmb3IgZGlzcG9zYWJsZSBlbWFpbHNcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdmVyaWZ5RW1haWwoZW1haWwpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnSW52YWxpZCBlbWFpbCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgZG93bmxvYWQgdG9rZW5cbiAgICBjb25zdCBkb3dubG9hZFRva2VuID0gZ2VuZXJhdGVEb3dubG9hZFRva2VuKGVtYWlsKVxuICAgIGNvbnN0IGRvd25sb2FkVXJsID0gY3JlYXRlRG93bmxvYWRVcmwoZG93bmxvYWRUb2tlbi50b2tlbilcblxuICAgIC8vIFN0b3JlIHRva2VuIGluIGRhdGFiYXNlXG4gICAgY29uc3QgeyBlcnJvcjogdG9rZW5FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2Rvd25sb2FkX3Rva2VucycpXG4gICAgICAuaW5zZXJ0KFtcbiAgICAgICAge1xuICAgICAgICAgIGVtYWlsOiBkb3dubG9hZFRva2VuLmVtYWlsLFxuICAgICAgICAgIHRva2VuOiBkb3dubG9hZFRva2VuLnRva2VuLFxuICAgICAgICAgIGV4cGlyZXNfYXQ6IGRvd25sb2FkVG9rZW4uZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXNlZDogZmFsc2UsXG4gICAgICAgICAgY3JlYXRlZF9hdDogZG93bmxvYWRUb2tlbi5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfVxuICAgICAgXSlcblxuICAgIGlmICh0b2tlbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiBzdG9yYWdlIGVycm9yOicsIHRva2VuRXJyb3IpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgZG93bmxvYWQgbGluaycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gVHJhY2sgdGhlIGVtYWlsIHN1Ym1pc3Npb24gaW4gYW5hbHl0aWNzXG4gICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2FuYWx5dGljcycpXG4gICAgICAuaW5zZXJ0KFtcbiAgICAgICAge1xuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIGFjdGlvbjogJ2VtYWlsX3ZlcmlmaWVkX2FuZF90b2tlbl9nZW5lcmF0ZWQnLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVzZXJfYWdlbnQ6IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3VzZXItYWdlbnQnKSB8fCAndW5rbm93bicsXG4gICAgICAgICAgcmVmZXJyZXI6IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3JlZmVyZXInKSB8fCAndW5rbm93bicsXG4gICAgICAgICAgaXBfYWRkcmVzczogcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXJlYWwtaXAnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICd1bmtub3duJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH1cbiAgICAgIF0pXG5cbiAgICAvLyBTZW5kIHRoZSBlYm9vayBlbWFpbCB2aWEgUmVzZW5kIHdpdGggc2VjdXJlIGRvd25sb2FkIGxpbmtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kRWJvb2tFbWFpbCh7XG4gICAgICBlbWFpbCxcbiAgICAgIG5hbWUsXG4gICAgICBkb3dubG9hZFVybFxuICAgIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdEb3dubG9hZCBsaW5rIHNlbnQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZFxuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZW5kIGVib29rIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gc2VuZCBkb3dubG9hZCBsaW5rLiBQbGVhc2UgdHJ5IGFnYWluLicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic2VuZEVib29rRW1haWwiLCJ2ZXJpZnlFbWFpbCIsImdlbmVyYXRlRG93bmxvYWRUb2tlbiIsImNyZWF0ZURvd25sb2FkVXJsIiwic3VwYWJhc2VBZG1pbiIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJlbWFpbCIsIm5hbWUiLCJlcnJvciIsInN0YXR1cyIsIkVycm9yIiwibWVzc2FnZSIsImRvd25sb2FkVG9rZW4iLCJkb3dubG9hZFVybCIsInRva2VuIiwidG9rZW5FcnJvciIsImZyb20iLCJpbnNlcnQiLCJleHBpcmVzX2F0IiwiZXhwaXJlc0F0IiwidG9JU09TdHJpbmciLCJ1c2VkIiwiY3JlYXRlZF9hdCIsImNyZWF0ZWRBdCIsImNvbnNvbGUiLCJhY3Rpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwidXNlcl9hZ2VudCIsImhlYWRlcnMiLCJnZXQiLCJyZWZlcnJlciIsImlwX2FkZHJlc3MiLCJyZXN1bHQiLCJzdWNjZXNzIiwibWVzc2FnZUlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/send-ebook/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/download-tokens.ts":
/*!********************************!*\
  !*** ./lib/download-tokens.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDownloadUrl: () => (/* binding */ createDownloadUrl),\n/* harmony export */   generateDownloadToken: () => (/* binding */ generateDownloadToken),\n/* harmony export */   validateDownloadToken: () => (/* binding */ validateDownloadToken)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst generateDownloadToken = (email)=>{\n    const id = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(16).toString('hex');\n    const token = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32).toString('hex');\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000) // 24 hours\n    ;\n    return {\n        id,\n        email,\n        token,\n        expiresAt,\n        used: false,\n        createdAt: new Date()\n    };\n};\nconst validateDownloadToken = (token, email)=>{\n    // This would typically check against database\n    // For now, we'll implement basic validation\n    return token.length === 64 && email.includes('@');\n};\nconst createDownloadUrl = (token)=>{\n    const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://yourdomain.com';\n    return `${baseUrl}/api/download/${token}`;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZG93bmxvYWQtdG9rZW5zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdEO0FBV3pDLE1BQU1DLHdCQUF3QixDQUFDQztJQUNwQyxNQUFNQyxLQUFLSCxtREFBV0EsQ0FBQyxJQUFJSSxRQUFRLENBQUM7SUFDcEMsTUFBTUMsUUFBUUwsbURBQVdBLENBQUMsSUFBSUksUUFBUSxDQUFDO0lBQ3ZDLE1BQU1FLFlBQVksSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU0sV0FBVzs7SUFFeEUsT0FBTztRQUNMTDtRQUNBRDtRQUNBRztRQUNBQztRQUNBRyxNQUFNO1FBQ05DLFdBQVcsSUFBSUg7SUFDakI7QUFDRixFQUFDO0FBRU0sTUFBTUksd0JBQXdCLENBQUNOLE9BQWVIO0lBQ25ELDhDQUE4QztJQUM5Qyw0Q0FBNEM7SUFDNUMsT0FBT0csTUFBTU8sTUFBTSxLQUFLLE1BQU1WLE1BQU1XLFFBQVEsQ0FBQztBQUMvQyxFQUFDO0FBRU0sTUFBTUMsb0JBQW9CLENBQUNUO0lBQ2hDLE1BQU1VLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0Msb0JBQW9CLElBQUk7SUFDcEQsT0FBTyxHQUFHSCxRQUFRLGNBQWMsRUFBRVYsT0FBTztBQUMzQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZ2ZyZWUvLi9saWIvZG93bmxvYWQtdG9rZW5zLnRzPzI1MGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSGFzaCwgcmFuZG9tQnl0ZXMgfSBmcm9tICdjcnlwdG8nXG5cbmV4cG9ydCBpbnRlcmZhY2UgRG93bmxvYWRUb2tlbiB7XG4gIGlkOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICB0b2tlbjogc3RyaW5nXG4gIGV4cGlyZXNBdDogRGF0ZVxuICB1c2VkOiBib29sZWFuXG4gIGNyZWF0ZWRBdDogRGF0ZVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVEb3dubG9hZFRva2VuID0gKGVtYWlsOiBzdHJpbmcpOiBEb3dubG9hZFRva2VuID0+IHtcbiAgY29uc3QgaWQgPSByYW5kb21CeXRlcygxNikudG9TdHJpbmcoJ2hleCcpXG4gIGNvbnN0IHRva2VuID0gcmFuZG9tQnl0ZXMoMzIpLnRvU3RyaW5nKCdoZXgnKVxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gMjQgaG91cnNcbiAgXG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgZW1haWwsXG4gICAgdG9rZW4sXG4gICAgZXhwaXJlc0F0LFxuICAgIHVzZWQ6IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZURvd25sb2FkVG9rZW4gPSAodG9rZW46IHN0cmluZywgZW1haWw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSBjaGVjayBhZ2FpbnN0IGRhdGFiYXNlXG4gIC8vIEZvciBub3csIHdlJ2xsIGltcGxlbWVudCBiYXNpYyB2YWxpZGF0aW9uXG4gIHJldHVybiB0b2tlbi5sZW5ndGggPT09IDY0ICYmIGVtYWlsLmluY2x1ZGVzKCdAJylcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZURvd25sb2FkVXJsID0gKHRva2VuOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkwgfHwgJ2h0dHBzOi8veW91cmRvbWFpbi5jb20nXG4gIHJldHVybiBgJHtiYXNlVXJsfS9hcGkvZG93bmxvYWQvJHt0b2tlbn1gXG59ICJdLCJuYW1lcyI6WyJyYW5kb21CeXRlcyIsImdlbmVyYXRlRG93bmxvYWRUb2tlbiIsImVtYWlsIiwiaWQiLCJ0b1N0cmluZyIsInRva2VuIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsInVzZWQiLCJjcmVhdGVkQXQiLCJ2YWxpZGF0ZURvd25sb2FkVG9rZW4iLCJsZW5ndGgiLCJpbmNsdWRlcyIsImNyZWF0ZURvd25sb2FkVXJsIiwiYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TSVRFX1VSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/download-tokens.ts\n");

/***/ }),

/***/ "(rsc)/./lib/resend.ts":
/*!***********************!*\
  !*** ./lib/resend.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEbookEmail: () => (/* binding */ sendEbookEmail),\n/* harmony export */   verifyEmail: () => (/* binding */ verifyEmail)\n/* harmony export */ });\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! resend */ \"(rsc)/./node_modules/resend/dist/index.mjs\");\n\nconst resend = new resend__WEBPACK_IMPORTED_MODULE_0__.Resend(process.env.RESEND_API_KEY);\nconst sendEbookEmail = async (data)=>{\n    try {\n        const { data: emailData, error } = await resend.emails.send({\n            from: 'Fish Cannot Carry Guns <noreply@yourdomain.com>',\n            to: [\n                data.email\n            ],\n            subject: 'Your Free Ebook: Fish Cannot Carry Guns',\n            html: `\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n          <title>Your Free Ebook</title>\n        </head>\n        <body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n          <div style=\"background: linear-gradient(135deg, #0f766e, #0891b2, #1e40af); padding: 30px; border-radius: 10px; color: white;\">\n            <h1 style=\"margin: 0 0 20px 0; font-size: 24px;\">Fish Cannot Carry Guns</h1>\n            <p style=\"margin: 0; font-size: 16px;\">Your free ebook sample is ready!</p>\n          </div>\n          \n          <div style=\"padding: 30px; background: #f8f9fa; border-radius: 0 0 10px 10px;\">\n            <h2 style=\"color: #0f766e; margin-top: 0;\">Thank you for your interest!</h2>\n            \n            <p>Hi ${data.name || 'there'},</p>\n            \n            <p>Thank you for downloading your free sample of <strong>Fish Cannot Carry Guns</strong> by Michael Morgan.</p>\n            \n            <p>This collection of speculative short stories delves into how technology fractures identity, erodes trust, and distorts reality. For fans of Black Mirror, cyberpunk noir, and fringe futurism.</p>\n            \n            <div style=\"background: #e8f5e8; border-left: 4px solid #10b981; padding: 15px; margin: 20px 0; border-radius: 5px;\">\n              <h3 style=\"margin: 0 0 10px 0; color: #065f46;\">What's included in your sample:</h3>\n              <ul style=\"margin: 0; padding-left: 20px;\">\n                <li><strong>Betrayal Circuit:</strong> Captain Stalworth believes he can trust Private Jude Veil. He is wrong.</li>\n                <li><strong>Devil's Advocate:</strong> What if you were trapped in a cell... with the person who killed you?</li>\n                <li><strong>Fish Cannot Carry Guns:</strong> All his life, John had thought he was safe...</li>\n              </ul>\n            </div>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${data.downloadUrl}\" \n                 style=\"background: #f59e0b; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;\">\n                Download Your Free Sample (PDF)\n              </a>\n              <p style=\"font-size: 12px; color: #6b7280; margin-top: 10px;\">\n                ⏰ This link expires in 24 hours\n              </p>\n            </div>\n            \n            <p>If you enjoy the sample, you can purchase the full book on Amazon:</p>\n            \n            <div style=\"text-align: center; margin: 20px 0;\">\n              <a href=\"https://www.amazon.com/dp/B0DS55TQ8R\" \n                 style=\"background: #dc2626; color: white; padding: 12px 25px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\n                Buy Full Book on Amazon\n              </a>\n            </div>\n            \n            <hr style=\"border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;\">\n            \n            <div style=\"font-size: 14px; color: #6b7280;\">\n              <p><strong>About the Author:</strong></p>\n              <p>Michael Morgan is a lifelong reader with a love for physics, psychology, and stories that ask hard questions, and don't always offer easy answers. Consultant by day, author by night.</p>\n              \n              <p><strong>Publisher:</strong> 3/7 Indie Lab - Be independent, be unique.</p>\n              \n              <p style=\"margin-top: 30px; font-size: 12px; color: #9ca3af;\">\n                You received this email because you requested a free sample of \"Fish Cannot Carry Guns\". \n                If you didn't request this, please ignore this email.\n              </p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `,\n            text: `\nFish Cannot Carry Guns - Your Free Ebook Sample\n\nThank you for your interest in \"Fish Cannot Carry Guns\" by Michael Morgan!\n\nThis collection of speculative short stories delves into how technology fractures identity, erodes trust, and distorts reality. For fans of Black Mirror, cyberpunk noir, and fringe futurism.\n\nWhat's included in your sample:\n- Betrayal Circuit: Captain Stalworth believes he can trust Private Jude Veil. He is wrong.\n- Devil's Advocate: What if you were trapped in a cell... with the person who killed you?\n- Fish Cannot Carry Guns: All his life, John had thought he was safe...\n\nDownload your free sample: ${process.env.NEXT_PUBLIC_SITE_URL || 'https://yourdomain.com'}/ebooks/fish-cannot-carry-guns-sample.pdf\n\nIf you enjoy the sample, purchase the full book: https://www.amazon.com/dp/B0DS55TQ8R\n\nAbout the Author:\nMichael Morgan is a lifelong reader with a love for physics, psychology, and stories that ask hard questions, and don't always offer easy answers. Consultant by day, author by night.\n\nPublisher: 3/7 Indie Lab - Be independent, be unique.\n\nYou received this email because you requested a free sample. If you didn't request this, please ignore this email.\n      `\n        });\n        if (error) {\n            console.error('Resend error:', error);\n            throw new Error('Failed to send email');\n        }\n        return {\n            success: true,\n            messageId: emailData?.id,\n            message: 'Email sent successfully'\n        };\n    } catch (error) {\n        console.error('Resend error:', error);\n        throw new Error('Failed to send email');\n    }\n};\nconst verifyEmail = async (email)=>{\n    // Basic email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n        throw new Error('Invalid email format');\n    }\n    // Check for disposable email domains (basic check)\n    const disposableDomains = [\n        '10minutemail.com',\n        'tempmail.org',\n        'guerrillamail.com',\n        'mailinator.com',\n        'throwaway.email',\n        'temp-mail.org',\n        'yopmail.com',\n        'getnada.com',\n        'tempmailaddress.com',\n        'mailnesia.com',\n        'sharklasers.com',\n        'guerrillamailblock.com'\n    ];\n    const domain = email.split('@')[1]?.toLowerCase();\n    if (disposableDomains.includes(domain)) {\n        throw new Error('Disposable email addresses are not allowed');\n    }\n    return true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmVzZW5kLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixNQUFNQyxTQUFTLElBQUlELDBDQUFNQSxDQUFDRSxRQUFRQyxHQUFHLENBQUNDLGNBQWM7QUFRN0MsTUFBTUMsaUJBQWlCLE9BQU9DO0lBQ25DLElBQUk7UUFDRixNQUFNLEVBQUVBLE1BQU1DLFNBQVMsRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVAsT0FBT1EsTUFBTSxDQUFDQyxJQUFJLENBQUM7WUFDMURDLE1BQU07WUFDTkMsSUFBSTtnQkFBQ04sS0FBS08sS0FBSzthQUFDO1lBQ2hCQyxTQUFTO1lBQ1RDLE1BQU0sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBaUJLLEVBQUVULEtBQUtVLElBQUksSUFBSSxRQUFROzs7Ozs7Ozs7Ozs7Ozs7O3VCQWdCbEIsRUFBRVYsS0FBS1csV0FBVyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01Ba0NwQyxDQUFDO1lBQ0RDLE1BQU0sQ0FBQzs7Ozs7Ozs7Ozs7OzJCQVljLEVBQUVoQixRQUFRQyxHQUFHLENBQUNnQixvQkFBb0IsSUFBSSx5QkFBeUI7Ozs7Ozs7Ozs7TUFVcEYsQ0FBQztRQUNIO1FBRUEsSUFBSVgsT0FBTztZQUNUWSxRQUFRWixLQUFLLENBQUMsaUJBQWlCQTtZQUMvQixNQUFNLElBQUlhLE1BQU07UUFDbEI7UUFFQSxPQUFPO1lBQ0xDLFNBQVM7WUFDVEMsV0FBV2hCLFdBQVdpQjtZQUN0QkMsU0FBUztRQUNYO0lBQ0YsRUFBRSxPQUFPakIsT0FBTztRQUNkWSxRQUFRWixLQUFLLENBQUMsaUJBQWlCQTtRQUMvQixNQUFNLElBQUlhLE1BQU07SUFDbEI7QUFDRixFQUFDO0FBRU0sTUFBTUssY0FBYyxPQUFPYjtJQUNoQyx5QkFBeUI7SUFDekIsTUFBTWMsYUFBYTtJQUNuQixJQUFJLENBQUNBLFdBQVdDLElBQUksQ0FBQ2YsUUFBUTtRQUMzQixNQUFNLElBQUlRLE1BQU07SUFDbEI7SUFFQSxtREFBbUQ7SUFDbkQsTUFBTVEsb0JBQW9CO1FBQ3hCO1FBQW9CO1FBQWdCO1FBQ3BDO1FBQWtCO1FBQW1CO1FBQ3JDO1FBQWU7UUFBZTtRQUM5QjtRQUFpQjtRQUFtQjtLQUNyQztJQUVELE1BQU1DLFNBQVNqQixNQUFNa0IsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUVDO0lBQ3BDLElBQUlILGtCQUFrQkksUUFBUSxDQUFDSCxTQUFTO1FBQ3RDLE1BQU0sSUFBSVQsTUFBTTtJQUNsQjtJQUVBLE9BQU87QUFDVCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFuZGluZ2ZyZWUvLi9saWIvcmVzZW5kLnRzPzA0NzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJ1xuXG5jb25zdCByZXNlbmQgPSBuZXcgUmVzZW5kKHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZKVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsRGF0YSB7XG4gIGVtYWlsOiBzdHJpbmdcbiAgbmFtZT86IHN0cmluZ1xuICBkb3dubG9hZFVybD86IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3Qgc2VuZEVib29rRW1haWwgPSBhc3luYyAoZGF0YTogRW1haWxEYXRhKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiBlbWFpbERhdGEsIGVycm9yIH0gPSBhd2FpdCByZXNlbmQuZW1haWxzLnNlbmQoe1xuICAgICAgZnJvbTogJ0Zpc2ggQ2Fubm90IENhcnJ5IEd1bnMgPG5vcmVwbHlAeW91cmRvbWFpbi5jb20+JyxcbiAgICAgIHRvOiBbZGF0YS5lbWFpbF0sXG4gICAgICBzdWJqZWN0OiAnWW91ciBGcmVlIEVib29rOiBGaXNoIENhbm5vdCBDYXJyeSBHdW5zJyxcbiAgICAgIGh0bWw6IGBcbiAgICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICAgIDxodG1sPlxuICAgICAgICA8aGVhZD5cbiAgICAgICAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICAgICAgICAgIDx0aXRsZT5Zb3VyIEZyZWUgRWJvb2s8L3RpdGxlPlxuICAgICAgICA8L2hlYWQ+XG4gICAgICAgIDxib2R5IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBsaW5lLWhlaWdodDogMS42OyBjb2xvcjogIzMzMzsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHg7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwZjc2NmUsICMwODkxYjIsICMxZTQwYWYpOyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBjb2xvcjogd2hpdGU7XCI+XG4gICAgICAgICAgICA8aDEgc3R5bGU9XCJtYXJnaW46IDAgMCAyMHB4IDA7IGZvbnQtc2l6ZTogMjRweDtcIj5GaXNoIENhbm5vdCBDYXJyeSBHdW5zPC9oMT5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBmb250LXNpemU6IDE2cHg7XCI+WW91ciBmcmVlIGVib29rIHNhbXBsZSBpcyByZWFkeSE8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDMwcHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7XCI+XG4gICAgICAgICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzBmNzY2ZTsgbWFyZ2luLXRvcDogMDtcIj5UaGFuayB5b3UgZm9yIHlvdXIgaW50ZXJlc3QhPC9oMj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+SGkgJHtkYXRhLm5hbWUgfHwgJ3RoZXJlJ30sPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8cD5UaGFuayB5b3UgZm9yIGRvd25sb2FkaW5nIHlvdXIgZnJlZSBzYW1wbGUgb2YgPHN0cm9uZz5GaXNoIENhbm5vdCBDYXJyeSBHdW5zPC9zdHJvbmc+IGJ5IE1pY2hhZWwgTW9yZ2FuLjwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+VGhpcyBjb2xsZWN0aW9uIG9mIHNwZWN1bGF0aXZlIHNob3J0IHN0b3JpZXMgZGVsdmVzIGludG8gaG93IHRlY2hub2xvZ3kgZnJhY3R1cmVzIGlkZW50aXR5LCBlcm9kZXMgdHJ1c3QsIGFuZCBkaXN0b3J0cyByZWFsaXR5LiBGb3IgZmFucyBvZiBCbGFjayBNaXJyb3IsIGN5YmVycHVuayBub2lyLCBhbmQgZnJpbmdlIGZ1dHVyaXNtLjwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNlOGY1ZTg7IGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzEwYjk4MTsgcGFkZGluZzogMTVweDsgbWFyZ2luOiAyMHB4IDA7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbiAgICAgICAgICAgICAgPGgzIHN0eWxlPVwibWFyZ2luOiAwIDAgMTBweCAwOyBjb2xvcjogIzA2NWY0NjtcIj5XaGF0J3MgaW5jbHVkZWQgaW4geW91ciBzYW1wbGU6PC9oMz5cbiAgICAgICAgICAgICAgPHVsIHN0eWxlPVwibWFyZ2luOiAwOyBwYWRkaW5nLWxlZnQ6IDIwcHg7XCI+XG4gICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+QmV0cmF5YWwgQ2lyY3VpdDo8L3N0cm9uZz4gQ2FwdGFpbiBTdGFsd29ydGggYmVsaWV2ZXMgaGUgY2FuIHRydXN0IFByaXZhdGUgSnVkZSBWZWlsLiBIZSBpcyB3cm9uZy48L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkRldmlsJ3MgQWR2b2NhdGU6PC9zdHJvbmc+IFdoYXQgaWYgeW91IHdlcmUgdHJhcHBlZCBpbiBhIGNlbGwuLi4gd2l0aCB0aGUgcGVyc29uIHdobyBraWxsZWQgeW91PzwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+RmlzaCBDYW5ub3QgQ2FycnkgR3Vuczo8L3N0cm9uZz4gQWxsIGhpcyBsaWZlLCBKb2huIGhhZCB0aG91Z2h0IGhlIHdhcyBzYWZlLi4uPC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7ZGF0YS5kb3dubG9hZFVybH1cIiBcbiAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZjU5ZTBiOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDE1cHggMzBweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XG4gICAgICAgICAgICAgICAgRG93bmxvYWQgWW91ciBGcmVlIFNhbXBsZSAoUERGKVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzZiNzI4MDsgbWFyZ2luLXRvcDogMTBweDtcIj5cbiAgICAgICAgICAgICAgICDij7AgVGhpcyBsaW5rIGV4cGlyZXMgaW4gMjQgaG91cnNcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPklmIHlvdSBlbmpveSB0aGUgc2FtcGxlLCB5b3UgY2FuIHB1cmNoYXNlIHRoZSBmdWxsIGJvb2sgb24gQW1hem9uOjwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAyMHB4IDA7XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL3d3dy5hbWF6b24uY29tL2RwL0IwRFM1NVRROFJcIiBcbiAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZGMyNjI2OyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjVweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XG4gICAgICAgICAgICAgICAgQnV5IEZ1bGwgQm9vayBvbiBBbWF6b25cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxociBzdHlsZT1cImJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU3ZWI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxNHB4OyBjb2xvcjogIzZiNzI4MDtcIj5cbiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BYm91dCB0aGUgQXV0aG9yOjwvc3Ryb25nPjwvcD5cbiAgICAgICAgICAgICAgPHA+TWljaGFlbCBNb3JnYW4gaXMgYSBsaWZlbG9uZyByZWFkZXIgd2l0aCBhIGxvdmUgZm9yIHBoeXNpY3MsIHBzeWNob2xvZ3ksIGFuZCBzdG9yaWVzIHRoYXQgYXNrIGhhcmQgcXVlc3Rpb25zLCBhbmQgZG9uJ3QgYWx3YXlzIG9mZmVyIGVhc3kgYW5zd2Vycy4gQ29uc3VsdGFudCBieSBkYXksIGF1dGhvciBieSBuaWdodC48L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8cD48c3Ryb25nPlB1Ymxpc2hlcjo8L3N0cm9uZz4gMy83IEluZGllIExhYiAtIEJlIGluZGVwZW5kZW50LCBiZSB1bmlxdWUuPC9wPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAzMHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjOWNhM2FmO1wiPlxuICAgICAgICAgICAgICAgIFlvdSByZWNlaXZlZCB0aGlzIGVtYWlsIGJlY2F1c2UgeW91IHJlcXVlc3RlZCBhIGZyZWUgc2FtcGxlIG9mIFwiRmlzaCBDYW5ub3QgQ2FycnkgR3Vuc1wiLiBcbiAgICAgICAgICAgICAgICBJZiB5b3UgZGlkbid0IHJlcXVlc3QgdGhpcywgcGxlYXNlIGlnbm9yZSB0aGlzIGVtYWlsLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgICA8L2h0bWw+XG4gICAgICBgLFxuICAgICAgdGV4dDogYFxuRmlzaCBDYW5ub3QgQ2FycnkgR3VucyAtIFlvdXIgRnJlZSBFYm9vayBTYW1wbGVcblxuVGhhbmsgeW91IGZvciB5b3VyIGludGVyZXN0IGluIFwiRmlzaCBDYW5ub3QgQ2FycnkgR3Vuc1wiIGJ5IE1pY2hhZWwgTW9yZ2FuIVxuXG5UaGlzIGNvbGxlY3Rpb24gb2Ygc3BlY3VsYXRpdmUgc2hvcnQgc3RvcmllcyBkZWx2ZXMgaW50byBob3cgdGVjaG5vbG9neSBmcmFjdHVyZXMgaWRlbnRpdHksIGVyb2RlcyB0cnVzdCwgYW5kIGRpc3RvcnRzIHJlYWxpdHkuIEZvciBmYW5zIG9mIEJsYWNrIE1pcnJvciwgY3liZXJwdW5rIG5vaXIsIGFuZCBmcmluZ2UgZnV0dXJpc20uXG5cbldoYXQncyBpbmNsdWRlZCBpbiB5b3VyIHNhbXBsZTpcbi0gQmV0cmF5YWwgQ2lyY3VpdDogQ2FwdGFpbiBTdGFsd29ydGggYmVsaWV2ZXMgaGUgY2FuIHRydXN0IFByaXZhdGUgSnVkZSBWZWlsLiBIZSBpcyB3cm9uZy5cbi0gRGV2aWwncyBBZHZvY2F0ZTogV2hhdCBpZiB5b3Ugd2VyZSB0cmFwcGVkIGluIGEgY2VsbC4uLiB3aXRoIHRoZSBwZXJzb24gd2hvIGtpbGxlZCB5b3U/XG4tIEZpc2ggQ2Fubm90IENhcnJ5IEd1bnM6IEFsbCBoaXMgbGlmZSwgSm9obiBoYWQgdGhvdWdodCBoZSB3YXMgc2FmZS4uLlxuXG5Eb3dubG9hZCB5b3VyIGZyZWUgc2FtcGxlOiAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMIHx8ICdodHRwczovL3lvdXJkb21haW4uY29tJ30vZWJvb2tzL2Zpc2gtY2Fubm90LWNhcnJ5LWd1bnMtc2FtcGxlLnBkZlxuXG5JZiB5b3UgZW5qb3kgdGhlIHNhbXBsZSwgcHVyY2hhc2UgdGhlIGZ1bGwgYm9vazogaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9kcC9CMERTNTVUUThSXG5cbkFib3V0IHRoZSBBdXRob3I6XG5NaWNoYWVsIE1vcmdhbiBpcyBhIGxpZmVsb25nIHJlYWRlciB3aXRoIGEgbG92ZSBmb3IgcGh5c2ljcywgcHN5Y2hvbG9neSwgYW5kIHN0b3JpZXMgdGhhdCBhc2sgaGFyZCBxdWVzdGlvbnMsIGFuZCBkb24ndCBhbHdheXMgb2ZmZXIgZWFzeSBhbnN3ZXJzLiBDb25zdWx0YW50IGJ5IGRheSwgYXV0aG9yIGJ5IG5pZ2h0LlxuXG5QdWJsaXNoZXI6IDMvNyBJbmRpZSBMYWIgLSBCZSBpbmRlcGVuZGVudCwgYmUgdW5pcXVlLlxuXG5Zb3UgcmVjZWl2ZWQgdGhpcyBlbWFpbCBiZWNhdXNlIHlvdSByZXF1ZXN0ZWQgYSBmcmVlIHNhbXBsZS4gSWYgeW91IGRpZG4ndCByZXF1ZXN0IHRoaXMsIHBsZWFzZSBpZ25vcmUgdGhpcyBlbWFpbC5cbiAgICAgIGBcbiAgICB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZXNlbmQgZXJyb3I6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIGVtYWlsJylcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2VJZDogZW1haWxEYXRhPy5pZCxcbiAgICAgIG1lc3NhZ2U6ICdFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseSdcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVzZW5kIGVycm9yOicsIGVycm9yKVxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlbmQgZW1haWwnKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlFbWFpbCA9IGFzeW5jIChlbWFpbDogc3RyaW5nKSA9PiB7XG4gIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvXG4gIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBmb3JtYXQnKVxuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGRpc3Bvc2FibGUgZW1haWwgZG9tYWlucyAoYmFzaWMgY2hlY2spXG4gIGNvbnN0IGRpc3Bvc2FibGVEb21haW5zID0gW1xuICAgICcxMG1pbnV0ZW1haWwuY29tJywgJ3RlbXBtYWlsLm9yZycsICdndWVycmlsbGFtYWlsLmNvbScsIFxuICAgICdtYWlsaW5hdG9yLmNvbScsICd0aHJvd2F3YXkuZW1haWwnLCAndGVtcC1tYWlsLm9yZycsXG4gICAgJ3lvcG1haWwuY29tJywgJ2dldG5hZGEuY29tJywgJ3RlbXBtYWlsYWRkcmVzcy5jb20nLFxuICAgICdtYWlsbmVzaWEuY29tJywgJ3NoYXJrbGFzZXJzLmNvbScsICdndWVycmlsbGFtYWlsYmxvY2suY29tJ1xuICBdXG4gIFxuICBjb25zdCBkb21haW4gPSBlbWFpbC5zcGxpdCgnQCcpWzFdPy50b0xvd2VyQ2FzZSgpXG4gIGlmIChkaXNwb3NhYmxlRG9tYWlucy5pbmNsdWRlcyhkb21haW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwb3NhYmxlIGVtYWlsIGFkZHJlc3NlcyBhcmUgbm90IGFsbG93ZWQnKVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn0gIl0sIm5hbWVzIjpbIlJlc2VuZCIsInJlc2VuZCIsInByb2Nlc3MiLCJlbnYiLCJSRVNFTkRfQVBJX0tFWSIsInNlbmRFYm9va0VtYWlsIiwiZGF0YSIsImVtYWlsRGF0YSIsImVycm9yIiwiZW1haWxzIiwic2VuZCIsImZyb20iLCJ0byIsImVtYWlsIiwic3ViamVjdCIsImh0bWwiLCJuYW1lIiwiZG93bmxvYWRVcmwiLCJ0ZXh0IiwiTkVYVF9QVUJMSUNfU0lURV9VUkwiLCJjb25zb2xlIiwiRXJyb3IiLCJzdWNjZXNzIiwibWVzc2FnZUlkIiwiaWQiLCJtZXNzYWdlIiwidmVyaWZ5RW1haWwiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImRpc3Bvc2FibGVEb21haW5zIiwiZG9tYWluIiwic3BsaXQiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/resend.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://xsutmpgzvppqcllkolol.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzdXRtcGd6dnBwcWNsbGtvbG9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzMTQ5NjksImV4cCI6MjA2OTg5MDk2OX0.Ti8rm8yfST0K6qjqc9owqGZ-eLdKy6QxqxgHYIiYA5c\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Server-side client for admin operations\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, process.env.SUPABASE_SERVICE_ROLE_KEY);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9EO0FBRXBELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUUxRCxNQUFNSyxXQUFXUCxtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWdCO0FBRWxFLDBDQUEwQztBQUNuQyxNQUFNRyxnQkFBZ0JSLG1FQUFZQSxDQUN2Q0MsYUFDQUMsUUFBUUMsR0FBRyxDQUFDTSx5QkFBeUIsRUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sYW5kaW5nZnJlZS8uL2xpYi9zdXBhYmFzZS50cz9jOTlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSFcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbi8vIFNlcnZlci1zaWRlIGNsaWVudCBmb3IgYWRtaW4gb3BlcmF0aW9uc1xuZXhwb3J0IGNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoXG4gIHN1cGFiYXNlVXJsLFxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxuKSAiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows","vendor-chunks/resend"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsend-ebook%2Froute&page=%2Fapi%2Fsend-ebook%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsend-ebook%2Froute.ts&appDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmarcobrunet%2Fsrc%2Fme%2Fmbm%2Flandingfree&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();